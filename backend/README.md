This is the backend part of the code that deals with the mapping and stuff
